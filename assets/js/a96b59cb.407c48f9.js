"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[100],{650(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"ros2/index","title":"ROS2 Fundamentals","description":"Master the Robot Operating System 2 - the standard middleware for robotics development","source":"@site/docs/ros2/index.md","sourceDirName":"ros2","slug":"/ros2/","permalink":"/physical-ai-textbook/docs/ros2/","draft":false,"unlisted":false,"editUrl":"https://github.com/Mansoor-Siddiqui/physical-ai-textbook/tree/master/physical-ai-textbook/docs/ros2/index.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"ROS2 Fundamentals","description":"Master the Robot Operating System 2 - the standard middleware for robotics development","keywords":["ros2","robotics","middleware","nodes","topics","services","actions"]},"sidebar":"textbookSidebar","previous":{"title":"Introduction to Physical AI","permalink":"/physical-ai-textbook/docs/intro/"},"next":{"title":"Robot Simulation","permalink":"/physical-ai-textbook/docs/simulation/"}}');var i=r(4848),t=r(8453),a=r(5168);const o={sidebar_position:2,title:"ROS2 Fundamentals",description:"Master the Robot Operating System 2 - the standard middleware for robotics development",keywords:["ros2","robotics","middleware","nodes","topics","services","actions"]},l="ROS2 Fundamentals",c={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"What is ROS2?",id:"what-is-ros2",level:2},{value:"Why ROS2?",id:"why-ros2",level:3},{value:"ROS2 vs ROS1",id:"ros2-vs-ros1",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Publisher Example",id:"publisher-example",level:4},{value:"Subscriber Example",id:"subscriber-example",level:4},{value:"Services",id:"services",level:3},{value:"Service Definition",id:"service-definition",level:4},{value:"Service Server",id:"service-server",level:4},{value:"Service Client",id:"service-client",level:4},{value:"Actions",id:"actions",level:3},{value:"Action Definition",id:"action-definition",level:4},{value:"Building ROS2 Packages",id:"building-ros2-packages",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"package.xml",id:"packagexml",level:3},{value:"setup.py",id:"setuppy",level:3},{value:"Launch Files",id:"launch-files",level:3},{value:"Essential ROS2 Commands",id:"essential-ros2-commands",level:2},{value:"Workspace Management",id:"workspace-management",level:3},{value:"Node Operations",id:"node-operations",level:3},{value:"Topic Operations",id:"topic-operations",level:3},{value:"Service Operations",id:"service-operations",level:3},{value:"Launch Operations",id:"launch-operations",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ros2-fundamentals",children:"ROS2 Fundamentals"})}),"\n",(0,i.jsxs)("div",{className:"learning-objectives",children:[(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),(0,i.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Understand the ROS2 architecture and its core concepts"}),"\n",(0,i.jsx)(n.li,{children:"Create and run ROS2 nodes using Python and C++"}),"\n",(0,i.jsx)(n.li,{children:"Implement communication patterns using topics, services, and actions"}),"\n",(0,i.jsx)(n.li,{children:"Build and organize ROS2 packages"}),"\n",(0,i.jsx)(n.li,{children:"Use essential ROS2 tools for development and debugging"}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"what-is-ros2",children:"What is ROS2?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ROS2 (Robot Operating System 2)"})," is an open-source middleware framework for building robot applications. Despite its name, ROS2 is not an operating system\u2014it's a collection of software libraries and tools that help you build robot software."]}),"\n",(0,i.jsx)(n.h3,{id:"why-ros2",children:"Why ROS2?"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"Benefit"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Standardization"})}),(0,i.jsx)(n.td,{children:"Common interfaces for sensors, actuators, and algorithms"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Modularity"})}),(0,i.jsx)(n.td,{children:"Break complex systems into manageable, reusable components"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Community"})}),(0,i.jsx)(n.td,{children:"Vast ecosystem of packages and active community support"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Real-time Support"})}),(0,i.jsx)(n.td,{children:"Designed for deterministic, real-time applications"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Multi-platform"})}),(0,i.jsx)(n.td,{children:"Runs on Linux, Windows, macOS, and embedded systems"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"DDS Foundation"})}),(0,i.jsx)(n.td,{children:"Built on Data Distribution Service for robust communication"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"ros2-vs-ros1",children:"ROS2 vs ROS1"}),"\n",(0,i.jsx)(n.p,{children:"ROS2 addresses limitations of ROS1:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ROS1 Limitations          \u2192    ROS2 Solutions\r\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\nSingle point of failure   \u2192    Distributed architecture\r\nLinux only                \u2192    Cross-platform support\r\nNo real-time support      \u2192    Real-time capable\r\nSecurity concerns         \u2192    Built-in security (SROS2)\r\nPython 2 dependency       \u2192    Modern Python 3\n"})}),"\n",(0,i.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"node"})," is the fundamental unit of computation in ROS2. Each node is responsible for a single, modular purpose."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# minimal_node.py - A simple ROS2 node in Python\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalNode(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_node')\r\n        self.get_logger().info('Hello from ROS2!')\r\n        \r\n        # Create a timer that fires every second\r\n        self.timer = self.create_timer(1.0, self.timer_callback)\r\n        self.counter = 0\r\n    \r\n    def timer_callback(self):\r\n        self.counter += 1\r\n        self.get_logger().info(f'Timer fired: {self.counter}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MinimalNode()\r\n    \r\n    try:\r\n        rclpy.spin(node)  # Keep the node running\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Topics"})," are named buses for nodes to exchange messages asynchronously. Publishers send messages; subscribers receive them."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   Publisher  \u2502                    \u2502  Subscriber  \u2502\r\n\u2502    Node      \u2502                    \u2502    Node      \u2502\r\n\u2502              \u2502     /camera/image  \u2502              \u2502\r\n\u2502   publish()\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u253c\u2500\u2500callback()  \u2502\r\n\u2502              \u2502                    \u2502              \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h4,{id:"publisher-example",children:"Publisher Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# image_publisher.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import Image\r\nfrom cv_bridge import CvBridge\r\nimport cv2\r\n\r\nclass ImagePublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('image_publisher')\r\n        \r\n        # Create publisher with queue size of 10\r\n        self.publisher = self.create_publisher(\r\n            Image,           # Message type\r\n            '/camera/image', # Topic name\r\n            10               # Queue size\r\n        )\r\n        \r\n        self.bridge = CvBridge()\r\n        self.timer = self.create_timer(0.033, self.publish_image)  # ~30 FPS\r\n        self.cap = cv2.VideoCapture(0)\r\n        \r\n        self.get_logger().info('Image publisher started')\r\n    \r\n    def publish_image(self):\r\n        ret, frame = self.cap.read()\r\n        if ret:\r\n            msg = self.bridge.cv2_to_imgmsg(frame, encoding='bgr8')\r\n            msg.header.stamp = self.get_clock().now().to_msg()\r\n            self.publisher.publish(msg)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"subscriber-example",children:"Subscriber Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# image_subscriber.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import Image\r\nfrom cv_bridge import CvBridge\r\nimport cv2\r\n\r\nclass ImageSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('image_subscriber')\r\n        \r\n        # Create subscription\r\n        self.subscription = self.create_subscription(\r\n            Image,\r\n            '/camera/image',\r\n            self.image_callback,\r\n            10\r\n        )\r\n        \r\n        self.bridge = CvBridge()\r\n        self.get_logger().info('Image subscriber started')\r\n    \r\n    def image_callback(self, msg):\r\n        # Convert ROS Image to OpenCV format\r\n        frame = self.bridge.imgmsg_to_cv2(msg, desired_encoding='bgr8')\r\n        \r\n        # Process the image\r\n        cv2.imshow('Camera Feed', frame)\r\n        cv2.waitKey(1)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Services"})," provide synchronous, request-response communication between nodes."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502    Client    \u2502    /add_numbers    \u2502    Server    \u2502\r\n\u2502    Node      \u2502                    \u2502    Node      \u2502\r\n\u2502              \u2502   Request (a, b)   \u2502              \u2502\r\n\u2502   call() \u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502              \u2502\r\n\u2502              \u2502   Response (sum)   \u2502              \u2502\r\n\u2502   \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500 callback() \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h4,{id:"service-definition",children:"Service Definition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# srv/AddTwoInts.srv\r\nint64 a\r\nint64 b\r\n---\r\nint64 sum\n"})}),"\n",(0,i.jsx)(n.h4,{id:"service-server",children:"Service Server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# add_service_server.py\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass AdditionServer(Node):\r\n    def __init__(self):\r\n        super().__init__('addition_server')\r\n        self.srv = self.create_service(\r\n            AddTwoInts,\r\n            'add_two_ints',\r\n            self.add_callback\r\n        )\r\n        self.get_logger().info('Addition service ready')\r\n    \r\n    def add_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info(\r\n            f'Request: {request.a} + {request.b} = {response.sum}'\r\n        )\r\n        return response\n"})}),"\n",(0,i.jsx)(n.h4,{id:"service-client",children:"Service Client"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# add_service_client.py\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass AdditionClient(Node):\r\n    def __init__(self):\r\n        super().__init__('addition_client')\r\n        self.client = self.create_client(AddTwoInts, 'add_two_ints')\r\n        \r\n        # Wait for service to be available\r\n        while not self.client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Waiting for service...')\r\n    \r\n    def send_request(self, a, b):\r\n        request = AddTwoInts.Request()\r\n        request.a = a\r\n        request.b = b\r\n        \r\n        future = self.client.call_async(request)\r\n        return future\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Actions"})," are for long-running tasks that need feedback and can be canceled."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502    Client    \u2502    /navigate_to_pose    \u2502    Server    \u2502\r\n\u2502    Node      \u2502                         \u2502    Node      \u2502\r\n\u2502              \u2502         Goal            \u2502              \u2502\r\n\u2502   send_goal()\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502              \u2502\r\n\u2502              \u2502        Feedback         \u2502              \u2502\r\n\u2502   \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  execute()   \u2502\r\n\u2502              \u2502        Feedback         \u2502              \u2502\r\n\u2502   \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524              \u2502\r\n\u2502              \u2502         Result          \u2502              \u2502\r\n\u2502   \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524              \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h4,{id:"action-definition",children:"Action Definition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# action/Navigate.action\r\n# Goal\r\ngeometry_msgs/PoseStamped target_pose\r\n---\r\n# Result\r\nbool success\r\nfloat32 total_distance\r\n---\r\n# Feedback\r\nfloat32 distance_remaining\r\nfloat32 eta_seconds\n"})}),"\n",(0,i.jsx)(n.h2,{id:"building-ros2-packages",children:"Building ROS2 Packages"}),"\n",(0,i.jsx)(n.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my_robot_pkg/\r\n\u251c\u2500\u2500 package.xml           # Package metadata and dependencies\r\n\u251c\u2500\u2500 setup.py              # Python package setup (Python packages)\r\n\u251c\u2500\u2500 setup.cfg             # Python package config\r\n\u251c\u2500\u2500 CMakeLists.txt        # Build configuration (C++ packages)\r\n\u251c\u2500\u2500 my_robot_pkg/         # Python source code\r\n\u2502   \u251c\u2500\u2500 __init__.py\r\n\u2502   \u251c\u2500\u2500 node_publisher.py\r\n\u2502   \u2514\u2500\u2500 node_subscriber.py\r\n\u251c\u2500\u2500 src/                  # C++ source code\r\n\u251c\u2500\u2500 include/              # C++ headers\r\n\u251c\u2500\u2500 msg/                  # Custom message definitions\r\n\u251c\u2500\u2500 srv/                  # Custom service definitions\r\n\u251c\u2500\u2500 action/               # Custom action definitions\r\n\u251c\u2500\u2500 launch/               # Launch files\r\n\u2502   \u2514\u2500\u2500 robot.launch.py\r\n\u251c\u2500\u2500 config/               # Configuration files\r\n\u2502   \u2514\u2500\u2500 params.yaml\r\n\u2514\u2500\u2500 test/                 # Test files\n"})}),"\n",(0,i.jsx)(n.h3,{id:"packagexml",children:"package.xml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<package format="3">\r\n  <name>my_robot_pkg</name>\r\n  <version>0.1.0</version>\r\n  <description>My robot package for Physical AI</description>\r\n  <maintainer email="dev@example.com">Developer</maintainer>\r\n  <license>Apache-2.0</license>\r\n\r\n  <buildtool_depend>ament_python</buildtool_depend>\r\n  \r\n  <depend>rclpy</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>sensor_msgs</depend>\r\n  <depend>geometry_msgs</depend>\r\n  \r\n  <test_depend>ament_copyright</test_depend>\r\n  <test_depend>ament_flake8</test_depend>\r\n  <test_depend>ament_pep257</test_depend>\r\n  <test_depend>python3-pytest</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_python</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setuppy",children:"setup.py"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\r\n\r\npackage_name = 'my_robot_pkg'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.1.0',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n        ('share/' + package_name + '/launch', ['launch/robot.launch.py']),\r\n        ('share/' + package_name + '/config', ['config/params.yaml']),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='Developer',\r\n    maintainer_email='dev@example.com',\r\n    description='My robot package for Physical AI',\r\n    license='Apache-2.0',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'publisher = my_robot_pkg.node_publisher:main',\r\n            'subscriber = my_robot_pkg.node_subscriber:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"launch-files",children:"Launch Files"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# launch/robot.launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Declare arguments\r\n        DeclareLaunchArgument(\r\n            'use_sim_time',\r\n            default_value='false',\r\n            description='Use simulation time'\r\n        ),\r\n        \r\n        # Publisher node\r\n        Node(\r\n            package='my_robot_pkg',\r\n            executable='publisher',\r\n            name='image_publisher',\r\n            parameters=[{\r\n                'use_sim_time': LaunchConfiguration('use_sim_time'),\r\n                'publish_rate': 30.0,\r\n            }],\r\n            output='screen',\r\n        ),\r\n        \r\n        # Subscriber node\r\n        Node(\r\n            package='my_robot_pkg',\r\n            executable='subscriber',\r\n            name='image_subscriber',\r\n            parameters=[{\r\n                'use_sim_time': LaunchConfiguration('use_sim_time'),\r\n            }],\r\n            remappings=[\r\n                ('/camera/image', '/robot/camera/rgb'),\r\n            ],\r\n            output='screen',\r\n        ),\r\n    ])\n"})}),"\n",(0,i.jsx)(n.h2,{id:"essential-ros2-commands",children:"Essential ROS2 Commands"}),"\n",(0,i.jsx)(n.h3,{id:"workspace-management",children:"Workspace Management"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create a workspace\r\nmkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\r\n\r\n# Build the workspace\r\ncolcon build\r\n\r\n# Source the workspace\r\nsource install/setup.bash\r\n\r\n# Build specific packages\r\ncolcon build --packages-select my_robot_pkg\r\n\r\n# Build with symlink install (faster for Python development)\r\ncolcon build --symlink-install\n"})}),"\n",(0,i.jsx)(n.h3,{id:"node-operations",children:"Node Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List running nodes\r\nros2 node list\r\n\r\n# Get info about a node\r\nros2 node info /image_publisher\r\n\r\n# Run a node\r\nros2 run my_robot_pkg publisher\n"})}),"\n",(0,i.jsx)(n.h3,{id:"topic-operations",children:"Topic Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# List all topics\r\nros2 topic list\r\n\r\n# Show topic info\r\nros2 topic info /camera/image\r\n\r\n# Echo topic messages\r\nros2 topic echo /camera/image\r\n\r\n# Publish to a topic\r\nros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 1.0}, angular: {z: 0.5}}"\r\n\r\n# Check publishing rate\r\nros2 topic hz /camera/image\n'})}),"\n",(0,i.jsx)(n.h3,{id:"service-operations",children:"Service Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# List all services\r\nros2 service list\r\n\r\n# Call a service\r\nros2 service call /add_two_ints example_interfaces/srv/AddTwoInts "{a: 5, b: 3}"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"launch-operations",children:"Launch Operations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run a launch file\r\nros2 launch my_robot_pkg robot.launch.py\r\n\r\n# With arguments\r\nros2 launch my_robot_pkg robot.launch.py use_sim_time:=true\n"})}),"\n",(0,i.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,i.jsx)(n.p,{children:"ROS2 uses QoS policies to configure communication reliability and performance."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, HistoryPolicy, DurabilityPolicy\r\n\r\n# Sensor data profile - prioritizes latest data\r\nsensor_qos = QoSProfile(\r\n    reliability=ReliabilityPolicy.BEST_EFFORT,\r\n    history=HistoryPolicy.KEEP_LAST,\r\n    depth=1,\r\n    durability=DurabilityPolicy.VOLATILE\r\n)\r\n\r\n# Reliable profile - ensures message delivery\r\nreliable_qos = QoSProfile(\r\n    reliability=ReliabilityPolicy.RELIABLE,\r\n    history=HistoryPolicy.KEEP_LAST,\r\n    depth=10,\r\n    durability=DurabilityPolicy.TRANSIENT_LOCAL\r\n)\r\n\r\n# Use in publisher\r\nself.publisher = self.create_publisher(\r\n    Image,\r\n    '/camera/image',\r\n    sensor_qos\r\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS2"})," is the standard middleware for building robot applications"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes"})," are the fundamental computation units"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topics"})," enable asynchronous publish-subscribe communication"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Services"})," provide synchronous request-response patterns"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Actions"})," handle long-running, cancelable tasks with feedback"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Packages"})," organize code, messages, and configurations"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"QoS"})," policies configure communication reliability"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"In the next chapter, we'll use ROS2 with robot simulation in Gazebo, where you'll see these concepts in action with a simulated robot."}),"\n",(0,i.jsx)(n.hr,{}),"\n","\n",(0,i.jsx)(a.A,{episodeUrl:"/podcast/episodes/ep02-ros2",episodeNumber:2,duration:"18 min"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},5168(e,n,r){r.d(n,{A:()=>u});r(6540);var s=r(8774);const i="container_dCqE",t="card_xNje",a="icon_xPcq",o="content_EpEg",l="label_oX12",c="title_FgAO",d="duration_fnZY",p="button_ldru";var h=r(4848);function u({episodeUrl:e,episodeNumber:n,duration:r}){return(0,h.jsx)("div",{className:i,children:(0,h.jsxs)("div",{className:t,children:[(0,h.jsx)("div",{className:a,children:(0,h.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:(0,h.jsx)("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"})})}),(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("span",{className:l,children:"Prefer audio?"}),(0,h.jsxs)("span",{className:c,children:["Listen to Episode ",n]}),(0,h.jsxs)("span",{className:d,children:[r," listen"]})]}),(0,h.jsxs)(s.A,{to:e,className:p,children:[(0,h.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,h.jsx)("path",{d:"M8 5v14l11-7z"})}),"Listen Now"]})]})})}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>o});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);