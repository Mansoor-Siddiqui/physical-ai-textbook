"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[231],{1024(e,r,n){n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"labs/lab01-ros2-hello","title":"Lab 1: ROS2 Hello World","description":"Create your first ROS2 node with publishers and subscribers","source":"@site/docs/labs/lab01-ros2-hello.md","sourceDirName":"labs","slug":"/labs/lab01-ros2-hello","permalink":"/physical-ai-textbook/docs/labs/lab01-ros2-hello","draft":false,"unlisted":false,"editUrl":"https://github.com/Mansoor-Siddiqui/physical-ai-textbook/tree/master/physical-ai-textbook/docs/labs/lab01-ros2-hello.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Lab 1: ROS2 Hello World","description":"Create your first ROS2 node with publishers and subscribers","keywords":["ros2","lab","tutorial","publisher","subscriber","beginner"]},"sidebar":"labsSidebar","next":{"title":"Lab 2: URDF Robot Design","permalink":"/physical-ai-textbook/docs/labs/lab02-urdf-design"}}');var l=n(4848),i=n(8453);const t={sidebar_position:1,title:"Lab 1: ROS2 Hello World",description:"Create your first ROS2 node with publishers and subscribers",keywords:["ros2","lab","tutorial","publisher","subscriber","beginner"]},a="Lab 1: ROS2 Hello World",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Objectives",id:"objectives",level:2},{value:"Step 1: Create Workspace",id:"step-1-create-workspace",level:2},{value:"Step 2: Create Package",id:"step-2-create-package",level:2},{value:"Step 3: Create Publisher Node",id:"step-3-create-publisher-node",level:2},{value:"Step 4: Create Subscriber Node",id:"step-4-create-subscriber-node",level:2},{value:"Step 5: Update setup.py",id:"step-5-update-setuppy",level:2},{value:"Step 6: Build and Run",id:"step-6-build-and-run",level:2},{value:"Step 7: Verify with ROS2 CLI",id:"step-7-verify-with-ros2-cli",level:2},{value:"Challenge: Custom Message",id:"challenge-custom-message",level:2},{value:"Summary",id:"summary",level:2},{value:"Next Lab",id:"next-lab",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"lab-1-ros2-hello-world",children:"Lab 1: ROS2 Hello World"})}),"\n",(0,l.jsx)(r.p,{children:"In this lab, you'll create your first ROS2 package with a publisher and subscriber node."}),"\n",(0,l.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Ubuntu 22.04 or Windows with WSL2"}),"\n",(0,l.jsx)(r.li,{children:"ROS2 Humble installed"}),"\n",(0,l.jsx)(r.li,{children:"Basic Python knowledge"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"objectives",children:"Objectives"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Create a ROS2 workspace"}),"\n",(0,l.jsx)(r.li,{children:"Build a ROS2 Python package"}),"\n",(0,l.jsx)(r.li,{children:"Implement a publisher node"}),"\n",(0,l.jsx)(r.li,{children:"Implement a subscriber node"}),"\n",(0,l.jsx)(r.li,{children:"Launch multiple nodes together"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"step-1-create-workspace",children:"Step 1: Create Workspace"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Create workspace directory\r\nmkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\r\n\r\n# Source ROS2\r\nsource /opt/ros/humble/setup.bash\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-2-create-package",children:"Step 2: Create Package"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\n\r\n# Create Python package\r\nros2 pkg create --build-type ament_python \\\r\n    --node-name hello_node \\\r\n    hello_world_pkg\r\n\r\n# Navigate to package\r\ncd hello_world_pkg\n"})}),"\n",(0,l.jsx)(r.p,{children:"Your package structure:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"hello_world_pkg/\r\n\u251c\u2500\u2500 hello_world_pkg/\r\n\u2502   \u251c\u2500\u2500 __init__.py\r\n\u2502   \u2514\u2500\u2500 hello_node.py\r\n\u251c\u2500\u2500 resource/\r\n\u2502   \u2514\u2500\u2500 hello_world_pkg\r\n\u251c\u2500\u2500 test/\r\n\u251c\u2500\u2500 package.xml\r\n\u251c\u2500\u2500 setup.cfg\r\n\u2514\u2500\u2500 setup.py\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-3-create-publisher-node",children:"Step 3: Create Publisher Node"}),"\n",(0,l.jsxs)(r.p,{children:["Edit ",(0,l.jsx)(r.code,{children:"hello_world_pkg/talker.py"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:'#!/usr/bin/env python3\r\n"""\r\nROS2 Publisher Node - Publishes greeting messages\r\n"""\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass TalkerNode(Node):\r\n    """Publisher node that sends greeting messages"""\r\n    \r\n    def __init__(self):\r\n        super().__init__(\'talker\')\r\n        \r\n        # Create publisher\r\n        self.publisher = self.create_publisher(\r\n            String,           # Message type\r\n            \'greetings\',      # Topic name\r\n            10                # Queue size\r\n        )\r\n        \r\n        # Create timer (publish every 0.5 seconds)\r\n        self.timer = self.create_timer(0.5, self.timer_callback)\r\n        self.count = 0\r\n        \r\n        self.get_logger().info(\'Talker node started!\')\r\n    \r\n    def timer_callback(self):\r\n        """Callback function for timer"""\r\n        msg = String()\r\n        msg.data = f\'Hello, Physical AI! Count: {self.count}\'\r\n        \r\n        self.publisher.publish(msg)\r\n        self.get_logger().info(f\'Publishing: "{msg.data}"\')\r\n        \r\n        self.count += 1\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    \r\n    node = TalkerNode()\r\n    \r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,l.jsx)(r.h2,{id:"step-4-create-subscriber-node",children:"Step 4: Create Subscriber Node"}),"\n",(0,l.jsxs)(r.p,{children:["Create ",(0,l.jsx)(r.code,{children:"hello_world_pkg/listener.py"}),":"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:'#!/usr/bin/env python3\r\n"""\r\nROS2 Subscriber Node - Listens for greeting messages\r\n"""\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\n\r\nclass ListenerNode(Node):\r\n    """Subscriber node that receives greeting messages"""\r\n    \r\n    def __init__(self):\r\n        super().__init__(\'listener\')\r\n        \r\n        # Create subscription\r\n        self.subscription = self.create_subscription(\r\n            String,               # Message type\r\n            \'greetings\',          # Topic name\r\n            self.listener_callback,  # Callback function\r\n            10                    # Queue size\r\n        )\r\n        \r\n        self.get_logger().info(\'Listener node started!\')\r\n    \r\n    def listener_callback(self, msg):\r\n        """Callback function for received messages"""\r\n        self.get_logger().info(f\'Received: "{msg.data}"\')\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    \r\n    node = ListenerNode()\r\n    \r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,l.jsx)(r.h2,{id:"step-5-update-setuppy",children:"Step 5: Update setup.py"}),"\n",(0,l.jsxs)(r.p,{children:["Edit ",(0,l.jsx)(r.code,{children:"setup.py"})," to register entry points:"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"from setuptools import setup\r\n\r\npackage_name = 'hello_world_pkg'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.1.0',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='your_name',\r\n    maintainer_email='your@email.com',\r\n    description='ROS2 Hello World package',\r\n    license='Apache-2.0',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'talker = hello_world_pkg.talker:main',\r\n            'listener = hello_world_pkg.listener:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-6-build-and-run",children:"Step 6: Build and Run"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Navigate to workspace root\r\ncd ~/ros2_ws\r\n\r\n# Build package\r\ncolcon build --packages-select hello_world_pkg\r\n\r\n# Source workspace\r\nsource install/setup.bash\r\n\r\n# Terminal 1: Run publisher\r\nros2 run hello_world_pkg talker\r\n\r\n# Terminal 2: Run subscriber (new terminal)\r\nsource ~/ros2_ws/install/setup.bash\r\nros2 run hello_world_pkg listener\n"})}),"\n",(0,l.jsx)(r.h2,{id:"step-7-verify-with-ros2-cli",children:"Step 7: Verify with ROS2 CLI"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# List topics\r\nros2 topic list\r\n\r\n# Echo topic\r\nros2 topic echo /greetings\r\n\r\n# Get topic info\r\nros2 topic info /greetings\r\n\r\n# Check publishing rate\r\nros2 topic hz /greetings\n"})}),"\n",(0,l.jsx)(r.h2,{id:"challenge-custom-message",children:"Challenge: Custom Message"}),"\n",(0,l.jsx)(r.p,{children:"Create a custom message type:"}),"\n",(0,l.jsxs)(r.ol,{children:["\n",(0,l.jsxs)(r.li,{children:["Create ",(0,l.jsx)(r.code,{children:"msg/Greeting.msg"}),":"]}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"string name\r\nstring message\r\nint32 count\r\nfloat64 timestamp\n"})}),"\n",(0,l.jsxs)(r.ol,{start:"2",children:["\n",(0,l.jsxs)(r.li,{children:["Update ",(0,l.jsx)(r.code,{children:"package.xml"})," and ",(0,l.jsx)(r.code,{children:"CMakeLists.txt"})]}),"\n",(0,l.jsx)(r.li,{children:"Use the new message type in your nodes"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsx)(r.p,{children:"You learned how to:"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Create a ROS2 Python package"}),"\n",(0,l.jsx)(r.li,{children:"Implement publisher and subscriber nodes"}),"\n",(0,l.jsx)(r.li,{children:"Build and run ROS2 nodes"}),"\n",(0,l.jsx)(r.li,{children:"Use ROS2 CLI tools for debugging"}),"\n"]}),"\n",(0,l.jsx)(r.h2,{id:"next-lab",children:"Next Lab"}),"\n",(0,l.jsxs)(r.p,{children:["Continue to ",(0,l.jsx)(r.a,{href:"/docs/labs/lab02-urdf-design",children:"Lab 2: URDF Robot Design"})," to create your first robot model."]})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,r,n){n.d(r,{R:()=>t,x:()=>a});var s=n(6540);const l={},i=s.createContext(l);function t(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);